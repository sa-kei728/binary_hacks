# odコマンド

## 8進ダンプ(デフォルト)
1行ごとに2バイトを8個, 16バイトずつ出力。
```console
$ od /etc/ld.so.cache | head -5
0000000 062154 071456 026557 027061 027067 000060 002442 000000
0000020 001403 000000 075540 000000 075555 000000 001403 000000
0000040 075624 000000 075650 000000 001403 000000 075726 000000
0000060 075743 000000 001403 000000 076012 000000 076026 000000
0000100 001403 000000 076074 000000 076113 000000 001403 000000
```
|N進数|Value|
|:---:|:---:|
|2|0110010001101100|
|8|062154|
|10|25708|
|16|646C|

## 出力フォーマット
|-t|意味|
|:---:|:---|
|a|文字の名前(常にバイト単位)|
|c|ASCII文字かエスケープ文字(常にバイト単位)|
|d|符号付き10進数|
|f|浮動小数点数|
|o|8進数|
|u|符号なし10進数|
|x|16進数|

|d, o, u, xのsuffix|意味|
|:---:|:---|
|C|char|
|S|short|
|I|int|
|L|long|

|fのsuffix|意味|
|:---:|:---|
|F|float|
|D|double|
|L|long double|

## オフセット基数
|-A|意味|
|:---:|:---|
|d|10進数|
|o|8進数|
|x|16進数|
|n|オフセット表示なし|

## 1バイトごと16進数で出力

```console
$ od -t x1 -A x /etc/ld.so.cache | head -5
000000 6c 64 2e 73 6f 2d 31 2e 37 2e 30 00 22 05 00 00
000010 03 03 00 00 60 7b 00 00 6d 7b 00 00 03 03 00 00
000020 94 7b 00 00 a8 7b 00 00 03 03 00 00 d6 7b 00 00
000030 e3 7b 00 00 03 03 00 00 0a 7c 00 00 16 7c 00 00
000040 03 03 00 00 3c 7c 00 00 4b 7c 00 00 03 03 00 00
```

## 1バイトごと16進数で出力かつASCII文字表示
```console
$ od -t x1z -A x /etc/ld.so.cache | head -5
000000 6c 64 2e 73 6f 2d 31 2e 37 2e 30 00 22 05 00 00  >ld.so-1.7.0."...<
000010 03 03 00 00 60 7b 00 00 6d 7b 00 00 03 03 00 00  >....`{..m{......<
000020 94 7b 00 00 a8 7b 00 00 03 03 00 00 d6 7b 00 00  >.{...{.......{..<
000030 e3 7b 00 00 03 03 00 00 0a 7c 00 00 16 7c 00 00  >.{.......|...|..<
000040 03 03 00 00 3c 7c 00 00 4b 7c 00 00 03 03 00 00  >....<|..K|......<
```
もしくは
```console
$ od -t x1c -A x /etc/ld.so.cache | head -5
000000  6c  64  2e  73  6f  2d  31  2e  37  2e  30  00  22  05  00  00
         l   d   .   s   o   -   1   .   7   .   0  \0   " 005  \0  \0
000010  03  03  00  00  60  7b  00  00  6d  7b  00  00  03  03  00  00
       003 003  \0  \0   `   {  \0  \0   m   {  \0  \0 003 003  \0  \0
000020  94  7b  00  00  a8  7b  00  00  03  03  00  00  d6  7b  00  00
```

## ダンプの省略について
- 通常は同じ内容が続く場合は省略される.
```console
$ od -tx1 -Ax ./zero.bin
000000 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
*
000200
```
- 省略させないためには-vオプションを付ける。
```console
od -tx1 -Ax -v ./zero.bin | head -n5
000000 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
000010 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
000020 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
000030 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
000040 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
```

## 文字列ダンプ
- 通常
```console
$ od -Ax --strings /etc/ld.so.cache | head -n5
000000 ld.so-1.7.0
00b950 libzvbi.so.0
00b95d /usr/lib/x86_64-linux-gnu/libzvbi.so.0
00b984 libzvbi-chains.so.0
00b998 /usr/lib/x86_64-linux-gnu/libzvbi-chains.so.0
```
- オフセット非表示
```console
$ od -An --strings /etc/ld.so.cache | head -n5
ld.so-1.7.0
libzvbi.so.0
/usr/lib/x86_64-linux-gnu/libzvbi.so.0
libzvbi-chains.so.0
/usr/lib/x86_64-linux-gnu/libzvbi-chains.so.0
```
- stringsコマンドとの違い(\0で終わってないものがodでは出力されない)
```console
$ diff -u od.log strings.log 
--- od.log      2022-02-27 19:36:59.312736960 +0900
+++ strings.log 2022-02-27 19:37:16.416734727 +0900
@@ -1,4 +1,5 @@
 ld.so-1.7.0
+glibc-ld.so.cache1.1$
 libzvbi.so.0
 /usr/lib/x86_64-linux-gnu/libzvbi.so.0
 libzvbi-chains.so.0

$ od -Ax -tx1z /etc/ld.so.cache | sed -ne '989,990p'
003dc0 67 6c 69 62 63 2d 6c 64 2e 73 6f 2e 63 61 63 68  >glibc-ld.so.cach<
003dd0 65 31 2e 31 24 05 00 00 f2 33 01 00 00 00 00 00  >e1.1$....3......<
```
- 文字列の最小長さを指定する(12文字の場合)
```
$ od -Ax -S 12 /etc/ld.so.cache | head -n5
00b950 libzvbi.so.0
00b95d /usr/lib/x86_64-linux-gnu/libzvbi.so.0
00b984 libzvbi-chains.so.0
00b998 /usr/lib/x86_64-linux-gnu/libzvbi-chains.so.0
00b9c6 libzstd.so.1
```
